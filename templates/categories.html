{% extends "base.html" %}
{% block content %}
<div style="display:flex; justify-content:space-between; align-items:flex-end; margin-bottom:18px;">
  <div>
    <div style="font-size:28px; font-weight:800; margin-bottom:6px; direction:rtl; text-align:right;">التصنيفات</div>
    <div style="opacity:0.8; direction:rtl; text-align:right;">إدارة التصنيفات وإعدادات النطاق</div>
  </div>
  <a href="/categories/new" class="btn btn-primary" style="text-decoration:none;">إضافة تصنيف</a>
</div>
<table style="width:100%;border-collapse:collapse;font-size:12px;">
        <thead>
          <tr style="text-align:left;color:#9ca3af;border-bottom:1px solid #1f2937;">
            <th style="padding:8px;">ID</th>
            <th style="padding:8px;">Name</th>
            <th style="padding:8px;">Scope</th>
            <th style="padding:8px;">Questions</th>
            <th style="padding:8px;">Actions</th>
          </tr>
        </thead>
        <tbody>
          {% for c in categories %}
          <tr style="border-bottom:1px solid #111827;">
            <td style="padding:8px;">#{{ c.id }}</td>
            <td style="padding:8px;">
              <strong>{{ c.name_en }}</strong><br/>
              <span style="color:#9ca3af;">{{ c.name_ar }}</span>
            </td>
            <td style="padding:8px;">
              {% if c.scope == 'saudi' %}
                Saudi
              {% elif c.scope == 'global' %}
                Global
              {% else %}
                Mixed ({{ '%0.0f' % (c.saudi_ratio * 100) }}% Saudi)
              {% endif %}
            </td>
            <td style="padding:8px;">{{ c.questions|length }}</td>
            <td style="padding:8px;">
              <a href="/categories/{{ c.id }}/questions" style="color:#60a5fa;margin-right:8px;">Questions</a>
              <a href="/categories/{{ c.id }}/edit" style="color:#eab308;">Edit</a>
            </td>
          </tr>
          {% endfor %}
          {% if not categories %}
          <tr><td colspan="5" style="padding:12px;color:#6b7280;">No categories yet.</td></tr>
          {% endif %}
        </tbody>
      </table>
{% endblock %}
